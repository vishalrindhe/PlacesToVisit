<!-- <ion-header>
  <ion-toolbar>
    <ion-title>placesVisitedForm</ion-title>
  </ion-toolbar>
</ion-header> -->

<!-- <ion-content> -->
<ion-grid fixed>
  <ion-row>
    <ion-col size="12" sizeSm="6" offset-sm="3">
      <ion-card>
        <ion-item>
          <ion-card-header class="text-center">
            <!-- <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->
            <ion-card-title>Places Wants To Visit</ion-card-title>
          </ion-card-header>
          <ion-button slot="end" color="danger" fill="outline" size="default" (click)="modalDismiss()">
            <ion-icon name="close"></ion-icon>
            <!-- close -->
          </ion-button>
        </ion-item>
        <!-- <ion-grid fixed> -->
        <form class="ion-padding" [formGroup]="placesVisited">
          <!-- <ion-row> -->
          <!-- <ion-col size='4'>
              <ion-label color="medium" position="floating">Place want to visit</ion-label>
              </ion-col>
              <ion-col size='8'> -->
          <!-- <ion-item>
                  <ion-label position="fixed">Fixed Label</ion-label>
                  <ion-input></ion-input>
                </ion-item> -->
          <ion-item>
            <ion-label color="medium" position="stacked">Visited place</ion-label>
            <ion-input value={{name}} color="dark" autocapitalize="characters" name="place" formControlName="place" 
              placeholder="ex. Mumbai">
            </ion-input>
          </ion-item>
          <div class="error"
            *ngIf="placesVisited.get('place').touched && placesVisited.get('place').hasError('required')">
            <small>&nbsp;&nbsp;&nbsp;&nbsp; Place Name required</small>
          </div>
          <div class="error"
            *ngIf="placesVisited.get('place').hasError('pattern')">
            <small>&nbsp;&nbsp;&nbsp;&nbsp; Place in not format</small>
          </div>

          <ion-item>
            <ion-label color="medium" position="stacked">Journey Experience</ion-label>
            <!-- <ion-input color="dark" autocapitalize="characters" name="place" formControlName="place" placeholder="ex. Mumbai">
                </ion-input> -->
            <ion-textarea name="placesDescription" formControlName="placesDescription" placeholder="Describe your journey experience here..."></ion-textarea>
          </ion-item>
          <div class="error"
            *ngIf="placesVisited.get('placesDescription').touched && placesVisited.get('placesDescription').hasError('required')">
            <small>&nbsp;&nbsp;&nbsp;&nbsp; Description required</small>
          </div>


          <ion-item>
            <ion-label color="medium" position="floating">Journey Experience</ion-label>
            <!-- <ion-button for="input" icon-only ion-button> -->
              <!-- <ion-grid> -->
              <ion-row class="ion-margin-top ion-margin-bottom">
                <ion-col size='4' class="ion-margin-top" style="align-items: center; display: grid;">
                  <ion-button 
                  size="large"
                   (click)="addImageButtonClick(fileLoader)">
                    <ion-icon name='add'></ion-icon>
                  </ion-button>
                </ion-col>
                <ion-col *ngFor="let item of url;let i = index" size="4" class="center">
                  <ion-img class="images" src="{{item}}" width="" height="80" ></ion-img>
                  <ion-icon name="close-circle-outline" style="
                      right: 0.5vh;
                      position: absolute;
                      top: 3vh;
                      color: red;
                      font-size: large;
                    " (click)="deleteImage(i)"></ion-icon>
                </ion-col>
              </ion-row>
            <!-- </ion-grid> -->


                <input #fileLoader id="fileLoader" type="file" class="hideInput" name="images" formControlName="images" multiple accept="image/png, image/jpeg" 
                (change)="imageData($event)" hidden/>

                  <!-- <ion-icon name="camera"></ion-icon>
              </ion-button> -->
            <!-- <ion-input name="images" formControlName="images" type="file" multiple accept="image/png, image/jpeg" 
              (change)="imageData($event)"></ion-input> -->
          </ion-item>
          <div class="error"
            *ngIf="placesVisited.get('images').touched && placesVisited.get('images').hasError('required')">
            <small>&nbsp;&nbsp;&nbsp;&nbsp; Images required</small>
          </div>

          <div>
            <ion-row>
              <!-- <ion-col *ngFor="let item of url;let i = index" size="4" class="center">
                <ion-img class="images" src="{{item}}" width="" height="80" ></ion-img>
                <ion-icon name="close-circle-outline" style="
                    right: 0;
                    position: absolute;
                    top: 0;
                    color: red;
                    font-size: large;
                  " (click)="deleteImage(i)"></ion-icon>
              </ion-col> -->
            </ion-row>
          </div>
          <!-- <img src={{url}} width="20%" height="20%" style="margin-bottom: 22px;"> -->

          <ion-item>
            <ion-label color="medium" position="floating">Date of Journey</ion-label>
            <ion-datetime color="danger" name="dob1" placeholder="Select Date" display-timezone="utc"
              formControlName="dateOfJourney" (ionChange)="getDate($event)">
            </ion-datetime>
          </ion-item>
          <div class="error"
            *ngIf="placesVisited.get('dateOfJourney').touched && placesVisited.get('dateOfJourney').hasError('required')">
            <small>&nbsp;&nbsp;&nbsp;&nbsp; date of journey is required</small>
          </div>

          <!-- </ion-col> -->
          <!-- </ion-row> -->
          <!-- <ion-row> -->
          <!-- <ion-col> -->
          <ion-item>
            <ion-label color="medium" position="stacked">Estimated Expense</ion-label>
            <ion-range color="warning" min="0" max="10000" step="1000" ticks="true" snaps="true" name="totalExpense"
              pin="true" formControlName="totalExpense">
              <ion-label slot="start">0</ion-label>
              <ion-label slot="end">10000</ion-label>
            </ion-range>
          </ion-item>
          <div class="error"
            *ngIf="placesVisited.get('totalExpense').touched && placesVisited.get('totalExpense').hasError('required')">
            <small>&nbsp;&nbsp;&nbsp;&nbsp; Total expense is required</small>
          </div>


          <ion-item>
            <ion-label color="medium" position="stacked">Rate Tour</ion-label>
             <!-- <ion-rating
             rat
                readonly="false"
                size="small"
                formControlName="rating"
                (rateChange)="onRateChange($event)"
              >
              </ion-rating> -->
              <ion-row class="ion-align-self-center">
                  <ionic-rating-component 
                  activeIcon = "star"
                  defaultIcon = "star-outline"
                  halfIcon = 'star-half'
                  activeColor = "#daa520"
                  defaultColor = "#aaaaaa"
                  readonly = "false"
                  halfStar = "true"
                  rating = "2"
                  fontSize = "32px"
                  formControlName="rating"
                  (ratingChanged)="onRatingChange($event)">
              </ionic-rating-component>
            </ion-row>

          </ion-item>
          <div class="error"
            *ngIf="placesVisited.get('rating').touched">
            <small>&nbsp;&nbsp;&nbsp;&nbsp; Rating is required</small>
          </div>
          <!-- </ion-col> -->

          <!-- </ion-row> -->

          <ion-button shape="round" expand="full" strong="true" color="dark" size="default" style="height: 125%"
            (click)="submit()" [disabled]="placesVisited.invalid">
            <span style="margin: 5% -0%">Submit</span>
            <!-- Login -->
          </ion-button>
        </form>
        <!-- </ion-grid> -->
        <!-- </ion-card-content> -->
      </ion-card>
      <!-- </ion-content> -->
    </ion-col>
  </ion-row>
</ion-grid>